(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{181:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},263:function(e,t,n){},264:function(e,t,n){},282:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},288:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(32),s=n.n(c),o=n(13),u=n(301),i=n(291),l=(n(181),n(302)),j=n(303),p=n(304),d=n(4),b=[{id:"news-feed",label:"NEWS FEED",icon:Object(d.jsx)(l.a,{}),url:"/"}],O=[{id:"register",label:"REGISTER",icon:Object(d.jsx)(j.a,{}),url:"/register"},{id:"login",label:"LOG IN",icon:Object(d.jsx)(p.a,{}),url:"/login"}],f=n(31),x=n(22),m="LOGIN_USER_SUCCESS",h="LOGOUT_USER",g="GET_AUTH_START",v="GET_AUTH_SUCCESS",y="GET_AUTH_FAIL",w=function(e){return{type:m,payload:e}},k=function(){return{type:g}},T=n(305),I=n(306),S=n(169),_=n(290),P=n(175),E=function(e){e.username;var t=Object(x.b)();return Object(d.jsx)(_.a,{title:"You are logging out. Are you sure\uff1f",icon:Object(d.jsx)(P.a,{style:{color:"red"}}),onConfirm:function(){localStorage.removeItem("accessToken"),t({type:h}),S.b.success("See you soon ! \ud83d\ude0d")},onCancel:function(){S.b.success("We are happy to see you here \ud83d\ude0d")},okText:"Yes",cancelText:"No",placement:"bottom",children:"LOG OUT"})},C=i.a.Header,A=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return Object(o.a)({},e.isAuth)}));return Object(r.useEffect)((function(){e(k())}),[e]),Object(d.jsxs)(C,{style:{position:"fixed",zIndex:1,width:"100%"},className:"header",children:[Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)("h1",{children:Object(d.jsx)(f.b,{to:"/",children:"SOCIAL"})})}),Object(d.jsx)(u.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["news-feed"],children:t.isLogged&&!t.userAuth.error?Object(d.jsxs)(d.Fragment,{children:[b.map((function(e){var t=e.id,n=e.label,r=e.icon,a=e.url;return Object(d.jsxs)(u.a.Item,{children:[r,Object(d.jsx)(f.b,{to:a,children:n})]},t)})),Object(d.jsxs)(u.a.Item,{children:[Object(d.jsx)(T.a,{}),Object(d.jsx)(f.b,{to:"/profile/".concat(t.userAuth.id),children:t.userAuth.username})]},"account"),Object(d.jsxs)(u.a.Item,{children:[Object(d.jsx)(I.a,{}),Object(d.jsx)(E,{})]},"logout")]}):O.map((function(e){var n=e.id,r=e.label,a=e.icon,c=e.url;return Object(d.jsxs)(u.a.Item,{children:[a,Object(d.jsx)(f.b,{to:c,children:"account"===n?t.response:r})]},n)}))})]})},N=n(35),L="LOAD_POST_START",U="LOAD_POST_SUCCESS",D="LOAD_POST_FAIL",F="LOAD_POST_BY_ID_START",R="LOAD_POST_BY_ID_SUCCESS",Y="LOAD_POST_BY_ID_FAIL",M="LOAD_POST_BY_USER_START",B="LOAD_POST_BY_USER_SUCCESS",H="LOAD_POST_BY_USER_FAIL",G="CREATE_POST_REQUEST",q="DELETE_POST_REQUEST",z="EDIT_POST_REQUEST",K=function(){return{type:L}},Q=function(e){return{type:U,payload:e}},W=function(e){return{type:D,payload:e}},J=function(e){return{type:R,payload:e}},V=function(e){return{type:B,payload:e}},X=function(e,t){return{type:z,payload:{postId:e,newPostText:t}}},Z=n(43),$=n(297),ee=n(296),te=n(62),ne=$.a.TextArea,re=function(e){var t=e.allPosts,n=Object(x.b)(),r=ee.a.useForm(),a=Object(Z.a)(r,1)[0];return Object(d.jsx)(d.Fragment,{children:t.allPosts&&Object(d.jsxs)(ee.a,{form:a,name:"horizontal_login",layout:"inline",onFinish:function(e){n({type:G,payload:e}),a.resetFields()},children:[Object(d.jsx)(ee.a.Item,{name:"postContent",rules:[{required:!1,message:"Please input your post content !"}],children:Object(d.jsx)(ne,{placeholder:"What's on your mind ?",autoSize:!0})}),Object(d.jsx)(ee.a.Item,{shouldUpdate:!0,children:function(){return Object(d.jsx)(te.a,{type:"primary",htmlType:"submit",disabled:!a.isFieldsTouched(!0)||!!a.getFieldsError().filter((function(e){return e.errors.length})).length,children:"Post"})}})]})})},ae=n(295),ce=n(300),se=n(94),oe=n(310),ue=n(88),ie=n.n(ue),le=n.p+"static/media/8c4ac8c19d21687f3130.3a976e33.png",je=n.p+"static/media/post-img.7f22c022.jpeg",pe=(n(254),n(9)),de=n.n(pe),be=n(28),Oe=n(307),fe="LIKE_POST_START",xe="LIKE_POST_SUCCESS",me="LIKE_POST_FAIL",he=(n(255),function(e){var t=e.postId,n=e.likes,a=e.userId,c=Object(x.b)(),s=Object(x.c)((function(e){return Object(o.a)({},e.allPostsData)})),u=Object(r.useState)([]),i=Object(Z.a)(u,2),l=i[0],j=i[1],p=s.allPosts;Object(r.useEffect)((function(){p.likedPosts&&j(p.likedPosts.map((function(e){return e.PostId})))}),[c,p]);var b=function(){var e=Object(be.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({type:fe,payload:{PostId:t,UserId:a}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Oe.a,{onClick:b,className:l.includes(t)?"like-active":""},"like"),n]})}),ge=n(308),ve=function(e){var t=e.postId,n=Object(x.b)(),r=Object(N.g)();return Object(d.jsx)(_.a,{title:"Are you sure\uff1f",icon:Object(d.jsx)(P.a,{style:{color:"red"}}),onConfirm:function(){n(function(e){return{type:q,payload:e}}(t)),S.b.success("Post is deleted "),r.push("/")},okText:"Yes",cancelText:"No",children:Object(d.jsx)(ge.a,{},"delete")})},ye=(n(256),function(e){var t=e.username,n=e.userId,r=Object(N.g)();return Object(d.jsx)("div",{className:"username-hover",onClick:function(){r.push("/profile/".concat(n))},children:t})}),we=n(309),ke=n(299),Te=function(e){var t=e.postId,n=e.postText,a=Object(r.useState)(!1),c=Object(Z.a)(a,2),s=c[0],o=c[1],u=Object(r.useState)(n),i=Object(Z.a)(u,2),l=i[0],j=i[1],p=Object(x.b)(),b=function(){var e=Object(be.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(X(t,l)),o(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(we.a,{onClick:function(){o(!0)}},"edit"),Object(d.jsx)(ke.a,{title:"Edit post",visible:s,onOk:b,onCancel:function(){o(!1)},children:Object(d.jsx)($.a,{value:l,onChange:function(e){j(e.target.value)}})})]})},Ie=ae.a.Meta,Se=function(e){var t=e.allPosts,n=Object(N.g)(),r=Object(x.c)((function(e){return Object(o.a)({},e.isAuth)}));return Object(d.jsx)("div",{className:"feed-container",style:{padding:24,minHeight:380},children:t&&t.length>0?t.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})).map((function(e,t){return Object(d.jsx)(ae.a,{style:{width:400},cover:Object(d.jsx)("img",{alt:"example",src:je}),actions:e.username===r.userAuth.username?[Object(d.jsx)(he,{postId:e._id,likes:e.Likes&&e.Likes.length}),Object(d.jsx)(oe.a,{onClick:function(){n.push("/posts/".concat(e._id))}},"comment"),Object(d.jsx)(Te,{postText:e.postText,postId:e._id}),Object(d.jsx)(ve,{postId:e._id})]:[Object(d.jsx)(he,{postId:e._id,likes:e.Likes&&e.Likes.length,userId:e.UserId}),Object(d.jsx)(oe.a,{onClick:function(){n.push("/posts/".concat(e._id))}},"comment")],children:Object(d.jsx)(Ie,{avatar:Object(d.jsx)(ce.a,{src:le}),title:Object(d.jsx)(ye,{username:e.username,userId:e.UserId}),description:"".concat(ie()(e.createdAt).format("DD/MM/YYYY - HH:mm"),": ").concat(e.postText)})},t)})):Object(d.jsx)(se.a,{})})},_e=n(298),Pe=(n(257),Object(N.i)((function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return Object(o.a)({},e.allPostsData)})),n=t.allPosts;return Object(r.useEffect)((function(){e(K())}),[e]),Object(d.jsxs)("div",{className:"homepage",children:[Object(d.jsx)("div",{className:"create-post",children:Object(d.jsx)(re,{allPosts:n})}),Object(d.jsx)("div",{className:"news-feed",children:t.loading?Object(d.jsx)(_e.a,{active:!0,avatar:!0,paragraph:{rows:10}}):Object(d.jsx)(Se,{allPosts:n.allPosts})})]})}))),Ee=n(311),Ce=ae.a.Meta,Ae=function(){var e=Object(N.h)().id,t=Object(x.c)((function(e){return Object(o.a)({},e.allPostsData)})),n=Object(x.c)((function(e){return Object(o.a)({},e.isAuth)})),a=t.postById,c=Object(x.b)(),s=Object(N.g)();return Object(r.useEffect)((function(){c(function(e){return{type:F,payload:e}}(e))}),[e,c]),Object(d.jsx)("div",{style:{padding:"24px 0",minHeight:380},children:a.map((function(e){return Object(d.jsx)(ae.a,{style:{width:"100%"},cover:Object(d.jsx)("img",{alt:"example",src:je}),actions:e.username===n.userAuth.username?[Object(d.jsx)(he,{postId:e._id,likes:e.Likes&&e.Likes.length}),Object(d.jsx)(ve,{postId:e._id}),Object(d.jsx)(Te,{postId:e._id,postText:e.postText}),Object(d.jsx)(Ee.a,{onClick:function(){s.push("/")}},"roll-back")]:[Object(d.jsx)(he,{postId:e._id,likes:e.Likes&&e.Likes.length}),Object(d.jsx)(Ee.a,{onClick:function(){s.push("/")}},"roll-back")],children:Object(d.jsx)(Ce,{avatar:Object(d.jsx)(ce.a,{src:le}),title:Object(d.jsx)(ye,{username:e.username,userId:e.UserId}),description:"".concat(ie()(e.createdAt).format("DD/MM/YYYY - HH:mm"),": ").concat(e.postText)})},e._id)}))})},Ne=n(294),Le=n(292),Ue="LOAD_COMMENT_START",De="LOAD_COMMENT_SUCCESS",Fe="LOAD_COMMENT_FAIL",Re="CREATE_COMMENT_REQUEST",Ye="DELETE_COMMENT",Me=function(e){return{type:De,payload:e}},Be=function(e){return{type:Fe,payload:e}},He=function(e,t){return{type:Re,payload:{id:e,commentBody:t}}},Ge=function(e){var t=e.commentId,n=Object(N.h)().id,r=Object(x.b)();return Object(d.jsx)(_.a,{title:"Are you sure\uff1f",icon:Object(d.jsx)(P.a,{style:{color:"red"}}),onConfirm:function(){r(function(e,t){return{type:Ye,payload:{id:e,commentId:t}}}(n,t))},okText:"Yes",cancelText:"No",children:"Delete"})},qe=function(){var e=Object(N.h)().id,t=Object(x.b)(),n=Object(x.c)((function(e){return Object(o.a)({},e.allCommentsData)})),a=Object(x.c)((function(e){return Object(o.a)({},e.isAuth)}));return Object(r.useEffect)((function(){t(function(e){return{type:Ue,payload:e}}(e))}),[t,e]),Object(d.jsx)(Ne.b,{className:"comment-list",header:"".concat(n.allComments.length," repl").concat(n.allComments.length>1?"ies":"y"),itemLayout:"horizontal",dataSource:n.allComments,renderItem:function(e){return Object(d.jsx)("li",{children:Object(d.jsx)(Le.a,{actions:a.userAuth.username===e.username?[Object(d.jsx)(Ge,{commentId:e._id})]:"",author:e.username,content:e.commentContent,datetime:ie()(e.createdAt).format("DD/MM/YYYY - HH:mm")})})}})},ze=$.a.TextArea,Ke=function(){var e=Object(N.h)().id,t=Object(x.b)(),n=Object(r.useState)(""),a=Object(Z.a)(n,2),c=a[0],s=a[1],o=function(){var n=Object(be.a)(de.a.mark((function n(){return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(He(e,c)),s("");case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(ee.a.Item,{children:Object(d.jsx)(ze,{autoSize:!0,value:c,onChange:function(e){return s(e.target.value)}})}),Object(d.jsx)(ee.a.Item,{children:Object(d.jsx)(te.a,{htmlType:"submit",type:"primary",disabled:""===c,onClick:o,children:"Comment"})})]})},Qe=(n(263),function(){return Object(d.jsxs)("div",{className:"post-container",children:[Object(d.jsx)("div",{className:"post-header",children:Object(d.jsx)(Ae,{})}),Object(d.jsxs)("div",{className:"post-content",children:[Object(d.jsx)("div",{className:"comment-input",children:Object(d.jsx)(Ke,{})}),Object(d.jsx)("div",{className:"comment-list",children:Object(d.jsx)(qe,{})})]})]})}),We=n.p+"static/media/page-not-found.32aeed80.png",Je=(n(264),function(){return Object(d.jsxs)("div",{className:"page-not-found",children:[Object(d.jsx)("img",{src:We,alt:"page-not-found"}),Object(d.jsx)("h3",{children:"OOPS !!"}),Object(d.jsx)("h2",{children:"PAGE NOT FOUND"}),Object(d.jsx)(te.a,{type:"primary",htmlType:"submit",children:Object(d.jsx)(f.b,{to:"/",children:"Come back home page"})})]})}),Ve=n(313),Xe=n(176),Ze=n(314),$e=n(37),et=n.n($e),tt="https://social-app-lnt.herokuapp.com/auth",nt=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",et.a.post(tt,{username:t.username,password:t.password,email:t.email}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",et.a.post("".concat(tt,"/login"),{username:t.username,password:t.password}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=Object(be.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",et.a.get("".concat(tt,"/auth-user"),{headers:{accessToken:localStorage.getItem("accessToken")}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",et.a.get("".concat(tt,"/profile/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(be.a)(de.a.mark((function e(t,n,r){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",et.a.put("".concat(tt,"/change-password"),{email:t,username:n,password:r}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ot=(n(282),n(312)),ut=(n(283),function(){var e=Object(r.useState)(!1),t=Object(Z.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(Z.a)(c,2),o=s[0],u=s[1],i=Object(r.useState)(""),l=Object(Z.a)(i,2),j=l[0],p=l[1],b=Object(r.useState)(""),O=Object(Z.a)(b,2),f=O[0],x=O[1],m=function(){var e=Object(be.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(j,o,f).then((function(e){var t=e.data;t.error?S.b.error(t.error):(S.b.success(t),a(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{className:"login-form-forgot",onClick:function(){a(!0)},children:"Forgot password"}),Object(d.jsx)(ke.a,{title:"Forgot password",visible:n,onOk:m,onCancel:function(){a(!1)},children:Object(d.jsxs)(ee.a,{name:"normal_update_password",className:"forgot-pass-form",children:[Object(d.jsx)(ee.a.Item,{name:"email",rules:[{type:"email",required:!0,message:"Please input your Email!"}],children:Object(d.jsx)($.a,{prefix:Object(d.jsx)(ot.a,{className:"site-form-item-icon"}),placeholder:"Email",onChange:function(e){p(e.target.value)}})}),Object(d.jsx)(ee.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(d.jsx)($.a,{prefix:Object(d.jsx)(T.a,{className:"site-form-item-icon"}),placeholder:"Username",onChange:function(e){u(e.target.value)}})}),Object(d.jsx)(ee.a.Item,{name:"password",rules:[{required:!0,message:"Please input your New Password!"}],children:Object(d.jsx)($.a.Password,{iconRender:function(e){return e?Object(d.jsx)(Ve.a,{}):Object(d.jsx)(Xe.a,{})},prefix:Object(d.jsx)(Ze.a,{className:"site-form-item-icon"}),type:"password",placeholder:"New password",onChange:function(e){x(e.target.value)}})})]})})]})}),it=function(){var e=Object(N.g)(),t=Object(x.b)(),n=function(){var n=Object(be.a)(de.a.mark((function n(r){return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,rt(r).then((function(n){var r=n.data;r.error?S.b.error(r.error):(localStorage.setItem("accessToken",r.accessToken),t(w(r)),t(k()),e.push("/"))}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(ee.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:n,children:[Object(d.jsx)("h2",{children:"LOG IN"}),Object(d.jsx)(ee.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(d.jsx)($.a,{prefix:Object(d.jsx)(T.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(d.jsx)(ee.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],className:"margin-bottom-pass",children:Object(d.jsx)($.a.Password,{iconRender:function(e){return e?Object(d.jsx)(Ve.a,{}):Object(d.jsx)(Xe.a,{})},prefix:Object(d.jsx)(Ze.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(d.jsx)(ee.a.Item,{children:Object(d.jsx)(ut,{})}),Object(d.jsxs)(ee.a.Item,{children:[Object(d.jsx)(te.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Log in"}),"Or ",Object(d.jsx)(f.b,{to:"/register",children:"Register now!"})]})]})})},lt=function(){var e=Object(N.g)(),t=function(){var t=Object(be.a)(de.a.mark((function t(n){return de.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nt(n).then((function(t){var n=t.data;n.error?S.b.error(n.error):(S.b.success(n),e.push("/login"))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)(ee.a,{name:"normal_login",className:"login-form",onFinish:t,children:[Object(d.jsx)("h2",{children:"SIGN UP"}),Object(d.jsx)(ee.a.Item,{name:"email",rules:[{type:"email",required:!0,message:"Please input your Email!"}],children:Object(d.jsx)($.a,{prefix:Object(d.jsx)(ot.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(d.jsx)(ee.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(d.jsx)($.a,{prefix:Object(d.jsx)(T.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(d.jsx)(ee.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(d.jsx)($.a.Password,{iconRender:function(e){return e?Object(d.jsx)(Ve.a,{}):Object(d.jsx)(Xe.a,{})},prefix:Object(d.jsx)(Ze.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(d.jsxs)(ee.a.Item,{children:[Object(d.jsx)(te.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Sign up"}),"Or ",Object(d.jsx)(f.b,{to:"/login",children:"Login now!"})]})]})},jt=n(293),pt=(n(284),function(){var e=Object(N.h)().id,t=Object(x.b)(),n=Object(r.useState)([]),a=Object(Z.a)(n,2),c=a[0],s=a[1],u=Object(x.c)((function(e){return Object(o.a)({},e.allPostsData)})).postByUser;return Object(r.useEffect)((function(){(function(){var t=Object(be.a)(de.a.mark((function t(){return de.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct(e).then((function(e){s(e.data)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),t(function(e){return{type:M,payload:e}}(e)),t(K())}),[t,e]),Object(d.jsxs)("div",{className:"profile-page",children:[Object(d.jsxs)("div",{className:"user-header",children:[Object(d.jsx)(ce.a,{size:"large",src:le}),Object(d.jsx)("h2",{children:c.username})]}),Object(d.jsx)(jt.a,{}),Object(d.jsx)("div",{className:"user-posts",children:Object(d.jsx)(Se,{allPosts:u})})]})}),dt=[{path:"/",isExact:!0,isPrivate:!0,module:Object(d.jsx)(Pe,{})},{path:"/login",isExact:!0,module:Object(d.jsx)(it,{})},{path:"/register",isExact:!0,module:Object(d.jsx)(lt,{})},{path:"/posts/:id",isPrivate:!0,isExact:!0,module:Object(d.jsx)(Qe,{})},{path:"/profile/:id",isPrivate:!0,isExact:!0,module:Object(d.jsx)(pt,{})},{path:"*",isExact:!0,module:Object(d.jsx)(Je,{})}],bt=i.a.Content,Ot=function(){var e=localStorage.getItem("accessToken"),t=Object(x.c)((function(e){return Object(o.a)({},e.isAuth)})),n=function(e,t,n,r){return function(){return t?n||r?e:Object(d.jsx)(N.a,{to:"/login"}):e}};return Object(d.jsx)(bt,{className:"site-layout content",style:{padding:"0 50px",marginTop:64},children:Object(d.jsx)(N.d,{children:dt.map((function(r,a){var c=r.path,s=r.isExact,o=r.module,u=r.isPrivate;return Object(d.jsx)(N.b,{path:c,exact:s,children:n(o,u,e,t.isLogged)},a)}))})})},ft=(n(285),n(286),n(287),i.a.Footer);var xt=function(){return Object(d.jsxs)(i.a,{className:"layout",children:[Object(d.jsx)(A,{}),Object(d.jsx)(Ot,{}),Object(d.jsx)(ft,{style:{textAlign:"center"},children:"Social \xa92021 Created by Nhan LNT"})]})},mt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,315)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},ht=n(171),gt=n(76),vt={loading:!1,allPosts:[],postById:[],postByUser:[],deletePostResponse:"",error:null},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case U:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,allPosts:t.payload});case D:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case F:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case R:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,postById:t.payload});case Y:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case M:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case B:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,postByUser:t.payload});case H:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});default:return e}},wt={loading:!1,allComments:[],error:null},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case De:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,allComments:t.payload});case Fe:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});default:return e}},Tt={loading:!1,isLogged:!1,response:"",userAuth:"",error:null},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(o.a)(Object(o.a)({},e),{},{isLogged:!0,response:t.payload});case g:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case v:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,isLogged:!0,userAuth:t.payload});case y:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case h:return Object(o.a)(Object(o.a)({},e),{},{isLogged:!1});default:return e}},St={loading:!1,isLiked:[],error:null},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case xe:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,isLiked:t.payload});case me:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});default:return e}},Pt=Object(gt.b)({allPostsData:yt,allCommentsData:kt,isAuth:It,allLikesData:_t}),Et=n(12),Ct="https://social-app-lnt.herokuapp.com/posts",At=function(){var e=Object(be.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",et.a.get(Ct,{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(e){if(!e.data.error)return e;S.b.error("You need to Sig Up/Log In \ud83d\udc4f")})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.a.get("".concat(Ct,"/post-by-id/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Lt=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.a.get("".concat(Ct,"/post-by-user/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.a.post(Ct,{postText:t.postContent},{headers:{accessToken:localStorage.getItem("accessToken")}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.a.delete("".concat(Ct,"/").concat(t),{headers:{accessToken:localStorage.getItem("accessToken")}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(be.a)(de.a.mark((function e(t,n){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.a.put("".concat(Ct,"/edit-post"),{newPostText:t,id:n},{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(e){return S.b.success("Post edited \ud83d\udc4d"),e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Rt="https://social-app-lnt.herokuapp.com/comments",Yt=function(){var e=Object(be.a)(de.a.mark((function e(t,n){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",et.a.post(Rt,{commentContent:n,PostId:t},{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(e){if(!e.data.error)return e;S.b.error("You need to login")})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",et.a.get("".concat(Rt,"/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",et.a.delete("".concat(Rt,"/").concat(t),{headers:{accessToken:localStorage.getItem("accessToken")}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ht=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.a.post("https://social-app-lnt.herokuapp.com/likes",{PostId:t},{headers:{accessToken:localStorage.getItem("accessToken")}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gt=de.a.mark(en),qt=de.a.mark(tn),zt=de.a.mark(nn),Kt=de.a.mark(rn),Qt=de.a.mark(an),Wt=de.a.mark(cn),Jt=de.a.mark(sn),Vt=de.a.mark(on),Xt=de.a.mark(un),Zt=de.a.mark(ln),$t=de.a.mark(jn);function en(e){var t;return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Et.a)(Ut,e.payload);case 3:return n.next=5,Object(Et.a)(At);case 5:return t=n.sent,n.next=8,Object(Et.c)(Q(t.data));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),Gt,null,[[0,10]])}function tn(){var e;return de.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Et.a)(At);case 3:return e=t.sent,t.next=6,Object(Et.c)(Q(e.data));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(Et.c)(W(t.t0));case 12:case"end":return t.stop()}}),qt,null,[[0,8]])}function nn(e){var t;return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Et.a)(Nt,e.payload);case 3:return t=n.sent,n.next=6,Object(Et.c)(J(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(Et.c)(W(n.t0));case 12:case"end":return n.stop()}}),zt,null,[[0,8]])}function rn(e){var t;return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Et.a)(Lt,e.payload);case 3:return t=n.sent,n.next=6,Object(Et.c)(V(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(Et.c)((r=n.t0,{type:H,payload:r}));case 12:case"end":return n.stop()}var r}),Kt,null,[[0,8]])}function an(e){var t,n;return de.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Et.a)(Dt,e.payload);case 3:return r.next=5,Object(Et.a)(At);case 5:return t=r.sent,r.next=8,Object(Et.c)(Q(t.data));case 8:return r.next=10,Object(Et.a)(Nt,e.payload);case 10:return n=r.sent,r.next=13,Object(Et.c)(J(n.data));case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(0),r.next=19,Object(Et.c)(W(r.t0));case 19:case"end":return r.stop()}}),Qt,null,[[0,15]])}function cn(e){var t,n;return de.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Et.a)(Ft,e.payload.newPostText,e.payload.postId);case 3:return r.next=5,Object(Et.a)(At);case 5:return t=r.sent,r.next=8,Object(Et.c)(Q(t.data));case 8:return r.next=10,Object(Et.a)(Nt,e.payload.postId);case 10:return n=r.sent,r.next=13,Object(Et.c)(J(n.data));case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(0),r.next=19,Object(Et.c)(W(r.t0));case 19:case"end":return r.stop()}}),Wt,null,[[0,15]])}function sn(e){var t;return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Et.a)(Yt,e.payload.id,e.payload.commentBody);case 3:return n.next=5,Object(Et.a)(Mt,e.payload.id);case 5:return t=n.sent,n.next=8,Object(Et.c)(Me(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(Et.c)(Be(n.t0));case 14:case"end":return n.stop()}}),Jt,null,[[0,10]])}function on(e){var t;return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Et.a)(Mt,e.payload);case 3:return t=n.sent,n.next=6,Object(Et.c)(Me(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(Et.c)(Be(n.t0));case 12:case"end":return n.stop()}}),Vt,null,[[0,8]])}function un(e){var t;return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Et.a)(Bt,e.payload.commentId);case 3:return n.next=5,Object(Et.a)(Mt,e.payload.id);case 5:return t=n.sent,n.next=8,Object(Et.c)(Me(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(Et.c)(Be(n.t0));case 14:case"end":return n.stop()}}),Xt,null,[[0,10]])}function ln(e){var t,n,r,a;return de.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(Et.a)(Ht,e.payload.PostId);case 3:return t=c.sent,c.next=6,Object(Et.c)((o=t.data,{type:xe,payload:o}));case 6:return c.next=8,Object(Et.a)(At);case 8:return n=c.sent,c.next=11,Object(Et.c)(Q(n.data));case 11:return c.next=13,Object(Et.a)(Nt,e.payload.PostId);case 13:return r=c.sent,c.next=16,Object(Et.c)(J(r.data));case 16:return c.next=18,Object(Et.a)(Lt,e.payload.UserId);case 18:return a=c.sent,c.next=21,Object(Et.c)(V(a.data));case 21:c.next=27;break;case 23:return c.prev=23,c.t0=c.catch(0),c.next=27,Object(Et.c)((s=c.t0,{type:me,payload:s}));case 27:case"end":return c.stop()}var s,o}),Zt,null,[[0,23]])}function jn(){var e;return de.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Et.a)(at);case 3:return e=t.sent,t.next=6,Object(Et.c)((r=e.data,{type:v,payload:r}));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(Et.c)((n=t.t0,{type:y,payload:n}));case 12:case"end":return t.stop()}var n,r}),$t,null,[[0,8]])}var pn=de.a.mark(fn),dn=de.a.mark(xn),bn=de.a.mark(mn),On=de.a.mark(hn);function fn(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Et.d)(G,en);case 2:return e.next=4,Object(Et.d)(L,tn);case 4:return e.next=6,Object(Et.d)(F,nn);case 6:return e.next=8,Object(Et.d)(M,rn);case 8:return e.next=10,Object(Et.d)(q,an);case 10:return e.next=12,Object(Et.d)(z,cn);case 12:case"end":return e.stop()}}),pn)}function xn(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Et.d)(Re,sn);case 2:return e.next=4,Object(Et.d)(Ue,on);case 4:return e.next=6,Object(Et.d)(Ye,un);case 6:case"end":return e.stop()}}),dn)}function mn(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Et.d)(fe,ln);case 2:case"end":return e.stop()}}),bn)}function hn(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Et.d)(g,jn);case 2:case"end":return e.stop()}}),On)}var gn=de.a.mark(vn);function vn(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Et.b)(fn);case 2:return e.next=4,Object(Et.b)(xn);case 4:return e.next=6,Object(Et.b)(mn);case 6:return e.next=8,Object(Et.b)(hn);case 8:case"end":return e.stop()}}),gn)}var yn=vn,wn=Object(ht.a)(),kn=Object(gt.d)(Pt,Object(gt.a)(wn));wn.run(yn),s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(x.a,{store:kn,children:Object(d.jsx)(f.a,{basename:"",children:Object(d.jsx)(xt,{})})})}),document.getElementById("root")),mt()}},[[288,1,2]]]);
//# sourceMappingURL=main.0e651d6b.chunk.js.map