(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{182:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},258:function(e,t,n){},264:function(e,t,n){},265:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},289:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(32),s=n.n(c),o=n(13),u=n(302),i=n(291),l=(n(182),n(303)),j=n(304),p=n(305),d=n(3),b=[{id:"news-feed",label:"NEWS FEED",icon:Object(d.jsx)(l.a,{}),url:"/"}],O=[{id:"register",label:"REGISTER",icon:Object(d.jsx)(j.a,{}),url:"/register"},{id:"login",label:"LOG IN",icon:Object(d.jsx)(p.a,{}),url:"/login"}],f=n(31),x=n(22),m="LOGIN_USER_SUCCESS",h="LOGOUT_USER",g="GET_AUTH_START",v="GET_AUTH_SUCCESS",y="GET_AUTH_FAIL",w=function(e){return{type:m,payload:e}},k=function(){return{type:g}},T=n(306),I=n(307),S=n(37),_=n(170),P=n(300),E=function(e){e.username;var t=Object(x.b)(),n=Object(r.useState)(!1),a=Object(S.a)(n,2),c=a[0],s=a[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("a",{className:"logout-btn",onClick:function(){return s(!0)},children:"LOGOUT"}),Object(d.jsx)(P.a,{title:"LOGOUT",visible:c,onOk:function(){localStorage.removeItem("accessToken"),t({type:h}),_.b.success("See you soon ! \ud83d\ude0d")},onCancel:function(){_.b.success("We are happy to see you here \ud83d\ude0d"),s(!1)},children:Object(d.jsx)("p",{children:"You are logging out. Are you sure?"})})]})},C=i.a.Header,A=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return Object(o.a)({},e.isAuth)}));return Object(r.useEffect)((function(){e(k())}),[e]),Object(d.jsxs)(C,{style:{position:"fixed",zIndex:1,width:"100%"},className:"header",children:[Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)("h1",{children:Object(d.jsx)(f.b,{to:"/",children:"SOCIAL"})})}),Object(d.jsx)(u.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["news-feed"],children:t.isLogged&&!t.userAuth.error?Object(d.jsxs)(d.Fragment,{children:[b.map((function(e){var t=e.id,n=e.label,r=e.icon,a=e.url;return Object(d.jsxs)(u.a.Item,{children:[r,Object(d.jsx)(f.b,{to:a,children:n})]},t)})),Object(d.jsxs)(u.a.Item,{children:[Object(d.jsx)(T.a,{}),Object(d.jsx)(f.b,{to:"/profile/".concat(t.userAuth.id),children:t.userAuth.username})]},"account"),Object(d.jsxs)(u.a.Item,{children:[Object(d.jsx)(I.a,{}),Object(d.jsx)(E,{})]},"logout")]}):O.map((function(e){var n=e.id,r=e.label,a=e.icon,c=e.url;return Object(d.jsxs)(u.a.Item,{children:[a,Object(d.jsx)(f.b,{to:c,children:"account"===n?t.response:r})]},n)}))})]})},L=n(35),N="LOAD_POST_START",U="LOAD_POST_SUCCESS",D="LOAD_POST_FAIL",F="LOAD_POST_BY_ID_START",R="LOAD_POST_BY_ID_SUCCESS",Y="LOAD_POST_BY_ID_FAIL",M="LOAD_POST_BY_USER_START",B="LOAD_POST_BY_USER_SUCCESS",G="LOAD_POST_BY_USER_FAIL",H="CREATE_POST_REQUEST",q="DELETE_POST_REQUEST",z="EDIT_POST_REQUEST",K=function(){return{type:N}},Q=function(e){return{type:U,payload:e}},W=function(e){return{type:D,payload:e}},J=function(e){return{type:R,payload:e}},V=function(e){return{type:B,payload:e}},X=function(e,t){return{type:z,payload:{postId:e,newPostText:t}}},Z=n(298),$=n(297),ee=n(62),te=n(163),ne=n.n(te),re=Z.a.TextArea,ae=function(e){var t=e.allPosts,n=Object(r.useState)(null),a=Object(S.a)(n,2),c=a[0],s=a[1],o=Object(x.b)(),u=$.a.useForm(),i=Object(S.a)(u,1)[0];return Object(d.jsx)(d.Fragment,{children:t.allPosts&&Object(d.jsxs)($.a,{form:i,name:"horizontal_login",layout:"inline",onFinish:function(e){o({type:H,payload:{postContent:e,postFile:c}}),i.resetFields(),console.log(c)},children:[Object(d.jsx)($.a.Item,{name:"postContent",rules:[{required:!1,message:"Please input your post content !"}],children:Object(d.jsx)(re,{placeholder:"What's on your mind ?",autoSize:!0})}),Object(d.jsx)($.a.Item,{name:"postFile",rules:[{required:!1}],children:Object(d.jsx)(ne.a,{name:"image",type:"file",multiple:!1,onDone:function(e){var t=e.base64;return s(t)}})}),Object(d.jsx)($.a.Item,{shouldUpdate:!0,children:function(){return Object(d.jsx)(ee.a,{type:"primary",htmlType:"submit",children:"Post"})}})]})})},ce=n(296),se=n(301),oe=n(94),ue=n(311),ie=n(88),le=n.n(ie),je=n.p+"static/media/8c4ac8c19d21687f3130.3a976e33.png",pe=n.p+"static/media/post-img.7f22c022.jpeg",de=(n(255),n(9)),be=n.n(de),Oe=n(28),fe=n(308),xe="LIKE_POST_START",me="LIKE_POST_SUCCESS",he="LIKE_POST_FAIL",ge=(n(256),function(e){var t=e.postId,n=e.likes,a=e.userId,c=Object(x.b)(),s=Object(x.c)((function(e){return Object(o.a)({},e.allPostsData)})),u=Object(r.useState)([]),i=Object(S.a)(u,2),l=i[0],j=i[1],p=s.allPosts;Object(r.useEffect)((function(){p.likedPosts&&j(p.likedPosts.map((function(e){return e.PostId})))}),[c,p]);var b=function(){var e=Object(Oe.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({type:xe,payload:{PostId:t,UserId:a}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(fe.a,{onClick:b,className:l.includes(t)?"like-active":""},"like"),n]})}),ve=n(177),ye=n(309),we=n(292),ke=function(e){var t=e.postId,n=Object(x.b)(),r=Object(L.g)();return Object(d.jsx)(we.a,{title:"Are you sure\uff1f",icon:Object(d.jsx)(ve.a,{style:{color:"red"}}),onConfirm:function(){n(function(e){return{type:q,payload:e}}(t)),_.b.success("Post is deleted "),r.push("/")},okText:"Yes",cancelText:"No",children:Object(d.jsx)(ye.a,{},"delete")})},Te=(n(257),function(e){var t=e.username,n=e.userId,r=Object(L.g)();return Object(d.jsx)("div",{className:"username-hover",onClick:function(){r.push("/profile/".concat(n))},children:t})}),Ie=n(310),Se=function(e){var t=e.postId,n=e.postText,a=Object(r.useState)(!1),c=Object(S.a)(a,2),s=c[0],o=c[1],u=Object(r.useState)(n),i=Object(S.a)(u,2),l=i[0],j=i[1],p=Object(x.b)(),b=function(){var e=Object(Oe.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(X(t,l)),o(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Ie.a,{onClick:function(){o(!0)}},"edit"),Object(d.jsx)(P.a,{title:"Edit post",visible:s,onOk:b,onCancel:function(){o(!1)},children:Object(d.jsx)(Z.a,{value:l,onChange:function(e){j(e.target.value)}})})]})},_e=ce.a.Meta,Pe=function(e){var t=e.allPosts,n=Object(L.g)(),r=Object(x.c)((function(e){return Object(o.a)({},e.isAuth)}));return console.log(t),Object(d.jsx)("div",{className:"feed-container",style:{padding:24,minHeight:380},children:t&&t.length>0?t.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})).map((function(e,t){return Object(d.jsx)(ce.a,{style:{width:400},cover:Object(d.jsx)("img",{alt:"example",src:e.postFile}),actions:e.username===r.userAuth.username?[Object(d.jsx)(ge,{postId:e._id,likes:e.Likes&&e.Likes.length}),Object(d.jsx)(ue.a,{onClick:function(){n.push("/posts/".concat(e._id))}},"comment"),Object(d.jsx)(Se,{postText:e.postText,postId:e._id}),Object(d.jsx)(ke,{postId:e._id})]:[Object(d.jsx)(ge,{postId:e._id,likes:e.Likes&&e.Likes.length,userId:e.UserId}),Object(d.jsx)(ue.a,{onClick:function(){n.push("/posts/".concat(e._id))}},"comment")],children:Object(d.jsx)(_e,{avatar:Object(d.jsx)(se.a,{src:je}),title:Object(d.jsx)(Te,{username:e.username,userId:e.UserId}),description:"".concat(le()(e.createdAt).format("DD/MM/YYYY - HH:mm"),": ").concat(e.postText)})},t)})):Object(d.jsx)(oe.a,{})})},Ee=n(299),Ce=(n(258),Object(L.i)((function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return Object(o.a)({},e.allPostsData)})),n=t.allPosts;return Object(r.useEffect)((function(){e(K())}),[e]),Object(d.jsxs)("div",{className:"homepage",children:[Object(d.jsx)("div",{className:"create-post",children:Object(d.jsx)(ae,{allPosts:n})}),Object(d.jsx)("div",{className:"news-feed",children:t.loading?Object(d.jsx)(Ee.a,{active:!0,avatar:!0,paragraph:{rows:10}}):Object(d.jsx)(Pe,{allPosts:n.allPosts})})]})}))),Ae=n(312),Le=ce.a.Meta,Ne=function(){var e=Object(L.h)().id,t=Object(x.c)((function(e){return Object(o.a)({},e.allPostsData)})),n=Object(x.c)((function(e){return Object(o.a)({},e.isAuth)})),a=t.postById,c=Object(x.b)(),s=Object(L.g)();return Object(r.useEffect)((function(){c(function(e){return{type:F,payload:e}}(e))}),[e,c]),Object(d.jsx)("div",{style:{padding:"24px 0",minHeight:380},children:a.map((function(e){return Object(d.jsx)(ce.a,{style:{width:"100%"},cover:Object(d.jsx)("img",{alt:"example",src:pe}),actions:e.username===n.userAuth.username?[Object(d.jsx)(ge,{postId:e._id,likes:e.Likes&&e.Likes.length}),Object(d.jsx)(ke,{postId:e._id}),Object(d.jsx)(Se,{postId:e._id,postText:e.postText}),Object(d.jsx)(Ae.a,{onClick:function(){s.push("/")}},"roll-back")]:[Object(d.jsx)(ge,{postId:e._id,likes:e.Likes&&e.Likes.length}),Object(d.jsx)(Ae.a,{onClick:function(){s.push("/")}},"roll-back")],children:Object(d.jsx)(Le,{avatar:Object(d.jsx)(se.a,{src:je}),title:Object(d.jsx)(Te,{username:e.username,userId:e.UserId}),description:"".concat(le()(e.createdAt).format("DD/MM/YYYY - HH:mm"),": ").concat(e.postText)})},e._id)}))})},Ue=n(295),De=n(293),Fe="LOAD_COMMENT_START",Re="LOAD_COMMENT_SUCCESS",Ye="LOAD_COMMENT_FAIL",Me="CREATE_COMMENT_REQUEST",Be="DELETE_COMMENT",Ge=function(e){return{type:Re,payload:e}},He=function(e){return{type:Ye,payload:e}},qe=function(e,t){return{type:Me,payload:{id:e,commentBody:t}}},ze=function(e){var t=e.commentId,n=Object(L.h)().id,r=Object(x.b)();return Object(d.jsx)(we.a,{title:"Are you sure\uff1f",icon:Object(d.jsx)(ve.a,{style:{color:"red"}}),onConfirm:function(){r(function(e,t){return{type:Be,payload:{id:e,commentId:t}}}(n,t))},okText:"Yes",cancelText:"No",children:"Delete"})},Ke=function(){var e=Object(L.h)().id,t=Object(x.b)(),n=Object(x.c)((function(e){return Object(o.a)({},e.allCommentsData)})),a=Object(x.c)((function(e){return Object(o.a)({},e.isAuth)}));return Object(r.useEffect)((function(){t(function(e){return{type:Fe,payload:e}}(e))}),[t,e]),Object(d.jsx)(Ue.b,{className:"comment-list",header:"".concat(n.allComments.length," repl").concat(n.allComments.length>1?"ies":"y"),itemLayout:"horizontal",dataSource:n.allComments,renderItem:function(e){return Object(d.jsx)("li",{children:Object(d.jsx)(De.a,{actions:a.userAuth.username===e.username?[Object(d.jsx)(ze,{commentId:e._id})]:"",author:e.username,content:e.commentContent,datetime:le()(e.createdAt).format("DD/MM/YYYY - HH:mm")})})}})},Qe=Z.a.TextArea,We=function(){var e=Object(L.h)().id,t=Object(x.b)(),n=Object(r.useState)(""),a=Object(S.a)(n,2),c=a[0],s=a[1],o=function(){var n=Object(Oe.a)(be.a.mark((function n(){return be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(qe(e,c)),s("");case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)($.a.Item,{children:Object(d.jsx)(Qe,{autoSize:!0,value:c,onChange:function(e){return s(e.target.value)}})}),Object(d.jsx)($.a.Item,{children:Object(d.jsx)(ee.a,{htmlType:"submit",type:"primary",disabled:""===c,onClick:o,children:"Comment"})})]})},Je=(n(264),function(){return Object(d.jsxs)("div",{className:"post-container",children:[Object(d.jsx)("div",{className:"post-header",children:Object(d.jsx)(Ne,{})}),Object(d.jsxs)("div",{className:"post-content",children:[Object(d.jsx)("div",{className:"comment-input",children:Object(d.jsx)(We,{})}),Object(d.jsx)("div",{className:"comment-list",children:Object(d.jsx)(Ke,{})})]})]})}),Ve=n.p+"static/media/page-not-found.32aeed80.png",Xe=(n(265),function(){return Object(d.jsxs)("div",{className:"page-not-found",children:[Object(d.jsx)("img",{src:Ve,alt:"page-not-found"}),Object(d.jsx)("h3",{children:"OOPS !!"}),Object(d.jsx)("h2",{children:"PAGE NOT FOUND"}),Object(d.jsx)(ee.a,{type:"primary",htmlType:"submit",children:Object(d.jsx)(f.b,{to:"/",children:"Come back home page"})})]})}),Ze=n(314),$e=n(176),et=n(315),tt=n(38),nt=n.n(tt),rt="https://social-app-lnt.herokuapp.com/auth",at=function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nt.a.post(rt,{username:t.username,password:t.password,email:t.email}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nt.a.post("".concat(rt,"/login"),{username:t.username,password:t.password}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(Oe.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nt.a.get("".concat(rt,"/auth-user"),{headers:{accessToken:localStorage.getItem("accessToken")}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nt.a.get("".concat(rt,"/profile/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Object(Oe.a)(be.a.mark((function e(t,n,r){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nt.a.put("".concat(rt,"/change-password"),{email:t,username:n,password:r}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),it=(n(283),n(313)),lt=(n(284),function(){var e=Object(r.useState)(!1),t=Object(S.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(S.a)(c,2),o=s[0],u=s[1],i=Object(r.useState)(""),l=Object(S.a)(i,2),j=l[0],p=l[1],b=Object(r.useState)(""),O=Object(S.a)(b,2),f=O[0],x=O[1],m=function(){var e=Object(Oe.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut(j,o,f).then((function(e){var t=e.data;t.error?_.b.error(t.error):(_.b.success(t),a(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{className:"login-form-forgot",onClick:function(){a(!0)},children:"Forgot password"}),Object(d.jsx)(P.a,{title:"Forgot password",visible:n,onOk:m,onCancel:function(){a(!1)},children:Object(d.jsxs)($.a,{name:"normal_update_password",className:"forgot-pass-form",children:[Object(d.jsx)($.a.Item,{name:"email",rules:[{type:"email",required:!0,message:"Please input your Email!"}],children:Object(d.jsx)(Z.a,{prefix:Object(d.jsx)(it.a,{className:"site-form-item-icon"}),placeholder:"Email",onChange:function(e){p(e.target.value)}})}),Object(d.jsx)($.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(d.jsx)(Z.a,{prefix:Object(d.jsx)(T.a,{className:"site-form-item-icon"}),placeholder:"Username",onChange:function(e){u(e.target.value)}})}),Object(d.jsx)($.a.Item,{name:"password",rules:[{required:!0,message:"Please input your New Password!"}],children:Object(d.jsx)(Z.a.Password,{iconRender:function(e){return e?Object(d.jsx)(Ze.a,{}):Object(d.jsx)($e.a,{})},prefix:Object(d.jsx)(et.a,{className:"site-form-item-icon"}),type:"password",placeholder:"New password",onChange:function(e){x(e.target.value)}})})]})})]})}),jt=function(){var e=Object(L.g)(),t=Object(x.b)(),n=function(){var n=Object(Oe.a)(be.a.mark((function n(r){return be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ct(r).then((function(n){var r=n.data;r.error?_.b.error(r.error):(localStorage.setItem("accessToken",r.accessToken),t(w(r)),t(k()),e.push("/"))}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)($.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:n,children:[Object(d.jsx)("h2",{children:"LOG IN"}),Object(d.jsx)($.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(d.jsx)(Z.a,{prefix:Object(d.jsx)(T.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(d.jsx)($.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],className:"margin-bottom-pass",children:Object(d.jsx)(Z.a.Password,{iconRender:function(e){return e?Object(d.jsx)(Ze.a,{}):Object(d.jsx)($e.a,{})},prefix:Object(d.jsx)(et.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(d.jsx)($.a.Item,{children:Object(d.jsx)(lt,{})}),Object(d.jsxs)($.a.Item,{children:[Object(d.jsx)(ee.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Log in"}),"Or ",Object(d.jsx)(f.b,{to:"/register",children:"Register now!"})]})]})})},pt=function(){var e=Object(L.g)(),t=function(){var t=Object(Oe.a)(be.a.mark((function t(n){return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at(n).then((function(t){var n=t.data;n.error?_.b.error(n.error):(_.b.success(n),e.push("/login"))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)($.a,{name:"normal_login",className:"login-form",onFinish:t,children:[Object(d.jsx)("h2",{children:"SIGN UP"}),Object(d.jsx)($.a.Item,{name:"email",rules:[{type:"email",required:!0,message:"Please input your Email!"}],children:Object(d.jsx)(Z.a,{prefix:Object(d.jsx)(it.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(d.jsx)($.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(d.jsx)(Z.a,{prefix:Object(d.jsx)(T.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(d.jsx)($.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(d.jsx)(Z.a.Password,{iconRender:function(e){return e?Object(d.jsx)(Ze.a,{}):Object(d.jsx)($e.a,{})},prefix:Object(d.jsx)(et.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(d.jsxs)($.a.Item,{children:[Object(d.jsx)(ee.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Sign up"}),"Or ",Object(d.jsx)(f.b,{to:"/login",children:"Login now!"})]})]})},dt=n(294),bt=(n(285),function(){var e=Object(L.h)().id,t=Object(x.b)(),n=Object(r.useState)([]),a=Object(S.a)(n,2),c=a[0],s=a[1],u=Object(x.c)((function(e){return Object(o.a)({},e.allPostsData)})).postByUser;return Object(r.useEffect)((function(){(function(){var t=Object(Oe.a)(be.a.mark((function t(){return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ot(e).then((function(e){s(e.data)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),t(function(e){return{type:M,payload:e}}(e)),t(K())}),[t,e]),Object(d.jsxs)("div",{className:"profile-page",children:[Object(d.jsxs)("div",{className:"user-header",children:[Object(d.jsx)(se.a,{size:"large",src:je}),Object(d.jsx)("h2",{children:c.username})]}),Object(d.jsx)(dt.a,{}),Object(d.jsx)("div",{className:"user-posts",children:Object(d.jsx)(Pe,{allPosts:u})})]})}),Ot=[{path:"/",isExact:!0,isPrivate:!0,module:Object(d.jsx)(Ce,{})},{path:"/login",isExact:!0,module:Object(d.jsx)(jt,{})},{path:"/register",isExact:!0,module:Object(d.jsx)(pt,{})},{path:"/posts/:id",isPrivate:!0,isExact:!0,module:Object(d.jsx)(Je,{})},{path:"/profile/:id",isPrivate:!0,isExact:!0,module:Object(d.jsx)(bt,{})},{path:"*",isExact:!0,module:Object(d.jsx)(Xe,{})}],ft=i.a.Content,xt=function(){var e=localStorage.getItem("accessToken"),t=Object(x.c)((function(e){return Object(o.a)({},e.isAuth)})),n=function(e,t,n,r){return function(){return t?n||r?e:Object(d.jsx)(L.a,{to:"/login"}):e}};return Object(d.jsx)(ft,{className:"site-layout content",style:{padding:"0 50px",marginTop:64},children:Object(d.jsx)(L.d,{children:Ot.map((function(r,a){var c=r.path,s=r.isExact,o=r.module,u=r.isPrivate;return Object(d.jsx)(L.b,{path:c,exact:s,children:n(o,u,e,t.isLogged)},a)}))})})},mt=(n(286),n(287),n(288),i.a.Footer);var ht=function(){return Object(d.jsxs)(i.a,{className:"layout",children:[Object(d.jsx)(A,{}),Object(d.jsx)(xt,{}),Object(d.jsx)(mt,{style:{textAlign:"center"},children:"Social \xa92021 Created by Nhan LNT"})]})},gt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,316)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},vt=n(172),yt=n(76),wt={loading:!1,allPosts:[],postById:[],postByUser:[],deletePostResponse:"",error:null},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case U:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,allPosts:t.payload});case D:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case F:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case R:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,postById:t.payload});case Y:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case M:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case B:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,postByUser:t.payload});case G:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});default:return e}},Tt={loading:!1,allComments:[],error:null},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case Re:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,allComments:t.payload});case Ye:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});default:return e}},St={loading:!1,isLogged:!1,response:"",userAuth:"",error:null},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(o.a)(Object(o.a)({},e),{},{isLogged:!0,response:t.payload});case g:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case v:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,isLogged:!0,userAuth:t.payload});case y:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case h:return Object(o.a)(Object(o.a)({},e),{},{isLogged:!1});default:return e}},Pt={loading:!1,isLiked:[],error:null},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case me:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,isLiked:t.payload});case he:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});default:return e}},Ct=Object(yt.b)({allPostsData:kt,allCommentsData:It,isAuth:_t,allLikesData:Et}),At=n(12),Lt="https://social-app-lnt.herokuapp.com/posts",Nt=function(){var e=Object(Oe.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nt.a.get(Lt,{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(e){if(!e.data.error)return e;_.b.error("You need to Sig Up/Log In \ud83d\udc4f")})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get("".concat(Lt,"/post-by-id/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get("".concat(Lt,"/post-by-user/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(Oe.a)(be.a.mark((function e(t,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.post(Lt,{postText:t.postContent,postFile:n},{headers:{accessToken:localStorage.getItem("accessToken")}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.delete("".concat(Lt,"/").concat(t),{headers:{accessToken:localStorage.getItem("accessToken")}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=Object(Oe.a)(be.a.mark((function e(t,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.put("".concat(Lt,"/edit-post"),{newPostText:t,id:n},{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(e){return _.b.success("Post edited \ud83d\udc4d"),e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Mt="https://social-app-lnt.herokuapp.com/comments",Bt=function(){var e=Object(Oe.a)(be.a.mark((function e(t,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nt.a.post(Mt,{commentContent:n,PostId:t},{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(e){if(!e.data.error)return e;_.b.error("You need to login")})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nt.a.get("".concat(Mt,"/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ht=function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nt.a.delete("".concat(Mt,"/").concat(t),{headers:{accessToken:localStorage.getItem("accessToken")}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qt=function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.post("https://social-app-lnt.herokuapp.com/likes",{PostId:t},{headers:{accessToken:localStorage.getItem("accessToken")}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zt=be.a.mark(nn),Kt=be.a.mark(rn),Qt=be.a.mark(an),Wt=be.a.mark(cn),Jt=be.a.mark(sn),Vt=be.a.mark(on),Xt=be.a.mark(un),Zt=be.a.mark(ln),$t=be.a.mark(jn),en=be.a.mark(pn),tn=be.a.mark(dn);function nn(e){var t;return be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(At.a)(Ft,e.payload.postContent,e.payload.postFile);case 3:return n.next=5,Object(At.a)(Nt);case 5:return t=n.sent,n.next=8,Object(At.c)(Q(t.data));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),zt,null,[[0,10]])}function rn(){var e;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(At.a)(Nt);case 3:return e=t.sent,t.next=6,Object(At.c)(Q(e.data));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(At.c)(W(t.t0));case 12:case"end":return t.stop()}}),Kt,null,[[0,8]])}function an(e){var t;return be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(At.a)(Ut,e.payload);case 3:return t=n.sent,n.next=6,Object(At.c)(J(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(At.c)(W(n.t0));case 12:case"end":return n.stop()}}),Qt,null,[[0,8]])}function cn(e){var t;return be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(At.a)(Dt,e.payload);case 3:return t=n.sent,n.next=6,Object(At.c)(V(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(At.c)((r=n.t0,{type:G,payload:r}));case 12:case"end":return n.stop()}var r}),Wt,null,[[0,8]])}function sn(e){var t,n;return be.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(At.a)(Rt,e.payload);case 3:return r.next=5,Object(At.a)(Nt);case 5:return t=r.sent,r.next=8,Object(At.c)(Q(t.data));case 8:return r.next=10,Object(At.a)(Ut,e.payload);case 10:return n=r.sent,r.next=13,Object(At.c)(J(n.data));case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(0),r.next=19,Object(At.c)(W(r.t0));case 19:case"end":return r.stop()}}),Jt,null,[[0,15]])}function on(e){var t,n;return be.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(At.a)(Yt,e.payload.newPostText,e.payload.postId);case 3:return r.next=5,Object(At.a)(Nt);case 5:return t=r.sent,r.next=8,Object(At.c)(Q(t.data));case 8:return r.next=10,Object(At.a)(Ut,e.payload.postId);case 10:return n=r.sent,r.next=13,Object(At.c)(J(n.data));case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(0),r.next=19,Object(At.c)(W(r.t0));case 19:case"end":return r.stop()}}),Vt,null,[[0,15]])}function un(e){var t;return be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(At.a)(Bt,e.payload.id,e.payload.commentBody);case 3:return n.next=5,Object(At.a)(Gt,e.payload.id);case 5:return t=n.sent,n.next=8,Object(At.c)(Ge(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(At.c)(He(n.t0));case 14:case"end":return n.stop()}}),Xt,null,[[0,10]])}function ln(e){var t;return be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(At.a)(Gt,e.payload);case 3:return t=n.sent,n.next=6,Object(At.c)(Ge(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(At.c)(He(n.t0));case 12:case"end":return n.stop()}}),Zt,null,[[0,8]])}function jn(e){var t;return be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(At.a)(Ht,e.payload.commentId);case 3:return n.next=5,Object(At.a)(Gt,e.payload.id);case 5:return t=n.sent,n.next=8,Object(At.c)(Ge(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(At.c)(He(n.t0));case 14:case"end":return n.stop()}}),$t,null,[[0,10]])}function pn(e){var t,n,r,a;return be.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(At.a)(qt,e.payload.PostId);case 3:return t=c.sent,c.next=6,Object(At.c)((o=t.data,{type:me,payload:o}));case 6:return c.next=8,Object(At.a)(Nt);case 8:return n=c.sent,c.next=11,Object(At.c)(Q(n.data));case 11:return c.next=13,Object(At.a)(Ut,e.payload.PostId);case 13:return r=c.sent,c.next=16,Object(At.c)(J(r.data));case 16:return c.next=18,Object(At.a)(Dt,e.payload.UserId);case 18:return a=c.sent,c.next=21,Object(At.c)(V(a.data));case 21:c.next=27;break;case 23:return c.prev=23,c.t0=c.catch(0),c.next=27,Object(At.c)((s=c.t0,{type:he,payload:s}));case 27:case"end":return c.stop()}var s,o}),en,null,[[0,23]])}function dn(){var e;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(At.a)(st);case 3:return e=t.sent,t.next=6,Object(At.c)((r=e.data,{type:v,payload:r}));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(At.c)((n=t.t0,{type:y,payload:n}));case 12:case"end":return t.stop()}var n,r}),tn,null,[[0,8]])}var bn=be.a.mark(mn),On=be.a.mark(hn),fn=be.a.mark(gn),xn=be.a.mark(vn);function mn(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.d)(H,nn);case 2:return e.next=4,Object(At.d)(N,rn);case 4:return e.next=6,Object(At.d)(F,an);case 6:return e.next=8,Object(At.d)(M,cn);case 8:return e.next=10,Object(At.d)(q,sn);case 10:return e.next=12,Object(At.d)(z,on);case 12:case"end":return e.stop()}}),bn)}function hn(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.d)(Me,un);case 2:return e.next=4,Object(At.d)(Fe,ln);case 4:return e.next=6,Object(At.d)(Be,jn);case 6:case"end":return e.stop()}}),On)}function gn(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.d)(xe,pn);case 2:case"end":return e.stop()}}),fn)}function vn(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.d)(g,dn);case 2:case"end":return e.stop()}}),xn)}var yn=be.a.mark(wn);function wn(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.b)(mn);case 2:return e.next=4,Object(At.b)(hn);case 4:return e.next=6,Object(At.b)(gn);case 6:return e.next=8,Object(At.b)(vn);case 8:case"end":return e.stop()}}),yn)}var kn=wn,Tn=Object(vt.a)(),In=Object(yt.d)(Ct,Object(yt.a)(Tn));Tn.run(kn),s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(x.a,{store:In,children:Object(d.jsx)(f.a,{basename:"/",children:Object(d.jsx)(ht,{})})})}),document.getElementById("root")),gt()}},[[289,1,2]]]);
//# sourceMappingURL=main.8cd427e5.chunk.js.map