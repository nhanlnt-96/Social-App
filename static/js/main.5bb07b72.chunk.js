(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{182:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},258:function(e,t,n){},264:function(e,t,n){},265:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},289:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(33),s=n.n(c),o=n(13),u=n(302),i=n(291),l=(n(182),n(303)),j=n(304),p=n(305),d=n(3),b=[{id:"news-feed",label:"NEWS FEED",icon:Object(d.jsx)(l.a,{}),url:"/"}],O=[{id:"register",label:"REGISTER",icon:Object(d.jsx)(j.a,{}),url:"/register"},{id:"login",label:"LOG IN",icon:Object(d.jsx)(p.a,{}),url:"/login"}],f=n(32),x=n(22),m="LOGIN_USER_SUCCESS",h="LOGOUT_USER",v="GET_AUTH_START",g="GET_AUTH_SUCCESS",y="GET_AUTH_FAIL",w=function(e){return{type:m,payload:e}},k=function(){return{type:v}},T=n(306),I=n(307),S=n(31),_=n(170),P=n(300),E=function(e){e.username;var t=Object(x.b)(),n=Object(a.useState)(!1),r=Object(S.a)(n,2),c=r[0],s=r[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("a",{className:"logout-btn",onClick:function(){return s(!0)},children:"LOGOUT"}),Object(d.jsx)(P.a,{title:"LOGOUT",visible:c,onOk:function(){localStorage.removeItem("accessToken"),t({type:h}),_.b.success("See you soon ! \ud83d\ude0d")},onCancel:function(){_.b.success("We are happy to see you here \ud83d\ude0d"),s(!1)},children:Object(d.jsx)("p",{children:"You are logging out. Are you sure?"})})]})},C=i.a.Header,A=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return Object(o.a)({},e.isAuth)}));return Object(a.useEffect)((function(){e(k())}),[e]),Object(d.jsxs)(C,{style:{position:"fixed",zIndex:1,width:"100%"},className:"header",children:[Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)("h1",{children:Object(d.jsx)(f.b,{to:"/",children:"SOCIAL"})})}),Object(d.jsx)(u.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["news-feed"],children:t.isLogged&&!t.userAuth.error?Object(d.jsxs)(d.Fragment,{children:[b.map((function(e){var t=e.id,n=e.label,a=e.icon,r=e.url;return Object(d.jsxs)(u.a.Item,{children:[a,Object(d.jsx)(f.b,{to:r,children:n})]},t)})),Object(d.jsxs)(u.a.Item,{children:[Object(d.jsx)(T.a,{}),Object(d.jsx)(f.b,{to:"/profile/".concat(t.userAuth.id),children:t.userAuth.username})]},"account"),Object(d.jsxs)(u.a.Item,{children:[Object(d.jsx)(I.a,{}),Object(d.jsx)(E,{})]},"logout")]}):O.map((function(e){var n=e.id,a=e.label,r=e.icon,c=e.url;return Object(d.jsxs)(u.a.Item,{children:[r,Object(d.jsx)(f.b,{to:c,children:"account"===n?t.response:a})]},n)}))})]})},L=n(36),N="LOAD_POST_START",D="LOAD_POST_SUCCESS",U="LOAD_POST_FAIL",F="LOAD_POST_BY_ID_START",R="LOAD_POST_BY_ID_SUCCESS",Y="LOAD_POST_BY_ID_FAIL",M="LOAD_POST_BY_USER_START",B="LOAD_POST_BY_USER_SUCCESS",G="LOAD_POST_BY_USER_FAIL",H="CREATE_POST_REQUEST",q="DELETE_POST_REQUEST",z="EDIT_POST_REQUEST",K=function(){return{type:N}},Q=function(e){return{type:D,payload:e}},W=function(e){return{type:U,payload:e}},J=function(e){return{type:R,payload:e}},V=function(e){return{type:B,payload:e}},X=function(e,t){return{type:z,payload:{postId:e,newPostText:t}}},Z=n(298),$=n(297),ee=n(62),te=n(123),ne=n.n(te),ae=Z.a.TextArea,re=function(e){var t=e.allPosts,n=Object(a.useState)(""),r=Object(S.a)(n,2),c=r[0],s=r[1],o=Object(x.b)(),u=$.a.useForm(),i=Object(S.a)(u,1)[0],l=Object(a.useState)(!1),j=Object(S.a)(l,2),p=j[0],b=j[1];return Object(d.jsx)(d.Fragment,{children:t.allPosts&&Object(d.jsxs)($.a,{form:i,name:"horizontal_login",layout:"inline",onFinish:function(e){b(!0);try{o({type:H,payload:{postContent:e,postFile:c}})}catch(t){console.warn(t)}finally{i.resetFields(),b(!1)}},children:[Object(d.jsx)($.a.Item,{name:"postContent",rules:[{required:!1,message:"Please input your post content !"}],children:Object(d.jsx)(ae,{placeholder:"What's on your mind ?",autoSize:!0})}),Object(d.jsx)($.a.Item,{name:"postFile",rules:[{required:!1}],children:Object(d.jsx)(ne.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return s(t)}})}),Object(d.jsx)($.a.Item,{shouldUpdate:!0,children:function(){return Object(d.jsx)(ee.a,{type:"primary",htmlType:"submit",loading:p,children:"Post"})}})]})})},ce=n(296),se=n(301),oe=n(94),ue=n(311),ie=n(88),le=n.n(ie),je=n.p+"static/media/8c4ac8c19d21687f3130.3a976e33.png",pe=(n(255),n(9)),de=n.n(pe),be=n(28),Oe=n(308),fe="LIKE_POST_START",xe="LIKE_POST_SUCCESS",me="LIKE_POST_FAIL",he=(n(256),function(e){var t=e.postId,n=e.likes,r=e.userId,c=Object(x.b)(),s=Object(x.c)((function(e){return Object(o.a)({},e.allPostsData)})),u=Object(a.useState)([]),i=Object(S.a)(u,2),l=i[0],j=i[1],p=s.allPosts;Object(a.useEffect)((function(){p.likedPosts&&j(p.likedPosts.map((function(e){return e.PostId})))}),[c,p]);var b=function(){var e=Object(be.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({type:fe,payload:{PostId:t,UserId:r}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Oe.a,{onClick:b,className:l.includes(t)?"like-active":""},"like"),n]})}),ve=n(177),ge=n(309),ye=n(292),we=function(e){var t=e.postId,n=Object(x.b)(),a=Object(L.g)();return Object(d.jsx)(ye.a,{title:"Are you sure\uff1f",icon:Object(d.jsx)(ve.a,{style:{color:"red"}}),onConfirm:function(){n(function(e){return{type:q,payload:e}}(t)),_.b.success("Post is deleted "),a.push("/")},okText:"Yes",cancelText:"No",children:Object(d.jsx)(ge.a,{},"delete")})},ke=(n(257),function(e){var t=e.username,n=e.userId,a=Object(L.g)();return Object(d.jsx)("div",{className:"username-hover",onClick:function(){a.push("/profile/".concat(n))},children:t})}),Te=n(310),Ie=function(e){var t=e.postId,n=e.postText,r=Object(a.useState)(!1),c=Object(S.a)(r,2),s=c[0],o=c[1],u=Object(a.useState)(n),i=Object(S.a)(u,2),l=i[0],j=i[1],p=Object(x.b)(),b=function(){var e=Object(be.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(X(t,l)),o(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Te.a,{onClick:function(){o(!0)}},"edit"),Object(d.jsx)(P.a,{title:"Edit post",visible:s,onOk:b,onCancel:function(){o(!1)},children:Object(d.jsx)(Z.a,{value:l,onChange:function(e){j(e.target.value)}})})]})},Se=ce.a.Meta,_e=function(e){var t=e.allPosts,n=Object(L.g)(),a=Object(x.c)((function(e){return Object(o.a)({},e.isAuth)}));return Object(d.jsx)("div",{className:"feed-container",style:{padding:24,minHeight:380},children:t&&t.length>0?t.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})).map((function(e,t){return Object(d.jsx)(ce.a,{style:{width:400},cover:Object(d.jsx)("img",{alt:"example",src:e.postFile}),actions:e.username===a.userAuth.username?[Object(d.jsx)(he,{postId:e._id,likes:e.Likes&&e.Likes.length}),Object(d.jsx)(ue.a,{onClick:function(){n.push("/posts/".concat(e._id))}},"comment"),Object(d.jsx)(Ie,{postText:e.postText,postId:e._id}),Object(d.jsx)(we,{postId:e._id})]:[Object(d.jsx)(he,{postId:e._id,likes:e.Likes&&e.Likes.length,userId:e.UserId}),Object(d.jsx)(ue.a,{onClick:function(){n.push("/posts/".concat(e._id))}},"comment")],children:Object(d.jsx)(Se,{avatar:Object(d.jsx)(se.a,{src:je}),title:Object(d.jsx)(ke,{username:e.username,userId:e.UserId}),description:"".concat(le()(e.createdAt).format("DD/MM/YYYY - HH:mm"),": ").concat(e.postText)})},t)})):Object(d.jsx)(oe.a,{})})},Pe=n(299),Ee=(n(258),Object(L.i)((function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return Object(o.a)({},e.allPostsData)})),n=t.allPosts;return Object(a.useEffect)((function(){e(K())}),[e]),Object(d.jsxs)("div",{className:"homepage",children:[Object(d.jsx)("div",{className:"create-post",children:Object(d.jsx)(re,{allPosts:n})}),Object(d.jsx)("div",{className:"news-feed",children:t.loading?Object(d.jsx)(Pe.a,{active:!0,avatar:!0,paragraph:{rows:10}}):Object(d.jsx)(_e,{allPosts:n.allPosts})})]})}))),Ce=n(312),Ae=ce.a.Meta,Le=function(){var e=Object(L.h)().id,t=Object(x.c)((function(e){return Object(o.a)({},e.allPostsData)})),n=Object(x.c)((function(e){return Object(o.a)({},e.isAuth)})),r=t.postById,c=Object(x.b)(),s=Object(L.g)();return Object(a.useEffect)((function(){c(function(e){return{type:F,payload:e}}(e))}),[e,c]),Object(d.jsx)("div",{style:{padding:"24px 0",minHeight:380},children:r.map((function(e){return Object(d.jsx)(ce.a,{style:{width:"100%"},cover:e.postFile,actions:e.username===n.userAuth.username?[Object(d.jsx)(he,{postId:e._id,likes:e.Likes&&e.Likes.length}),Object(d.jsx)(we,{postId:e._id}),Object(d.jsx)(Ie,{postId:e._id,postText:e.postText}),Object(d.jsx)(Ce.a,{onClick:function(){s.push("/")}},"roll-back")]:[Object(d.jsx)(he,{postId:e._id,likes:e.Likes&&e.Likes.length}),Object(d.jsx)(Ce.a,{onClick:function(){s.push("/")}},"roll-back")],children:Object(d.jsx)(Ae,{avatar:Object(d.jsx)(se.a,{src:je}),title:Object(d.jsx)(ke,{username:e.username,userId:e.UserId}),description:"".concat(le()(e.createdAt).format("DD/MM/YYYY - HH:mm"),": ").concat(e.postText)})},e._id)}))})},Ne=n(295),De=n(293),Ue="LOAD_COMMENT_START",Fe="LOAD_COMMENT_SUCCESS",Re="LOAD_COMMENT_FAIL",Ye="CREATE_COMMENT_REQUEST",Me="DELETE_COMMENT",Be=function(e){return{type:Fe,payload:e}},Ge=function(e){return{type:Re,payload:e}},He=function(e,t){return{type:Ye,payload:{id:e,commentBody:t}}},qe=function(e){var t=e.commentId,n=Object(L.h)().id,a=Object(x.b)();return Object(d.jsx)(ye.a,{title:"Are you sure\uff1f",icon:Object(d.jsx)(ve.a,{style:{color:"red"}}),onConfirm:function(){a(function(e,t){return{type:Me,payload:{id:e,commentId:t}}}(n,t))},okText:"Yes",cancelText:"No",children:"Delete"})},ze=function(){var e=Object(L.h)().id,t=Object(x.b)(),n=Object(x.c)((function(e){return Object(o.a)({},e.allCommentsData)})),r=Object(x.c)((function(e){return Object(o.a)({},e.isAuth)}));return Object(a.useEffect)((function(){t(function(e){return{type:Ue,payload:e}}(e))}),[t,e]),Object(d.jsx)(Ne.b,{className:"comment-list",header:"".concat(n.allComments.length," repl").concat(n.allComments.length>1?"ies":"y"),itemLayout:"horizontal",dataSource:n.allComments,renderItem:function(e){return Object(d.jsx)("li",{children:Object(d.jsx)(De.a,{actions:r.userAuth.username===e.username?[Object(d.jsx)(qe,{commentId:e._id})]:"",author:e.username,content:e.commentContent,datetime:le()(e.createdAt).format("DD/MM/YYYY - HH:mm")})})}})},Ke=Z.a.TextArea,Qe=function(){var e=Object(L.h)().id,t=Object(x.b)(),n=Object(a.useState)(""),r=Object(S.a)(n,2),c=r[0],s=r[1],o=function(){var n=Object(be.a)(de.a.mark((function n(){return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(He(e,c)),s("");case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)($.a.Item,{children:Object(d.jsx)(Ke,{autoSize:!0,value:c,onChange:function(e){return s(e.target.value)}})}),Object(d.jsx)($.a.Item,{children:Object(d.jsx)(ee.a,{htmlType:"submit",type:"primary",disabled:""===c,onClick:o,children:"Comment"})})]})},We=(n(264),function(){return Object(d.jsxs)("div",{className:"post-container",children:[Object(d.jsx)("div",{className:"post-header",children:Object(d.jsx)(Le,{})}),Object(d.jsxs)("div",{className:"post-content",children:[Object(d.jsx)("div",{className:"comment-input",children:Object(d.jsx)(Qe,{})}),Object(d.jsx)("div",{className:"comment-list",children:Object(d.jsx)(ze,{})})]})]})}),Je=n.p+"static/media/page-not-found.32aeed80.png",Ve=(n(265),function(){return Object(d.jsxs)("div",{className:"page-not-found",children:[Object(d.jsx)("img",{src:Je,alt:"page-not-found"}),Object(d.jsx)("h3",{children:"OOPS !!"}),Object(d.jsx)("h2",{children:"PAGE NOT FOUND"}),Object(d.jsx)(ee.a,{type:"primary",htmlType:"submit",children:Object(d.jsx)(f.b,{to:"/",children:"Come back home page"})})]})}),Xe=n(314),Ze=n(176),$e=n(315),et=n(38),tt=n.n(et),nt="https://social-app-lnt.herokuapp.com/auth",at=function(){var e=Object(be.a)(de.a.mark((function e(t,n){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tt.a.post(nt,{email:t.email,username:t.username,password:t.password,avatarFile:n}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),rt=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tt.a.post("".concat(nt,"/login"),{username:t.username,password:t.password}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Object(be.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tt.a.get("".concat(nt,"/auth-user"),{headers:{accessToken:localStorage.getItem("accessToken")}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),st=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tt.a.get("".concat(nt,"/profile/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(be.a)(de.a.mark((function e(t,n,a){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tt.a.put("".concat(nt,"/change-password"),{email:t,username:n,password:a}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ut=(n(283),n(313)),it=(n(284),function(){var e=Object(a.useState)(!1),t=Object(S.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(S.a)(c,2),o=s[0],u=s[1],i=Object(a.useState)(""),l=Object(S.a)(i,2),j=l[0],p=l[1],b=Object(a.useState)(""),O=Object(S.a)(b,2),f=O[0],x=O[1],m=function(){var e=Object(be.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot(j,o,f).then((function(e){var t=e.data;t.error?_.b.error(t.error):(_.b.success(t),r(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{className:"login-form-forgot",onClick:function(){r(!0)},children:"Forgot password"}),Object(d.jsx)(P.a,{title:"Forgot password",visible:n,onOk:m,onCancel:function(){r(!1)},children:Object(d.jsxs)($.a,{name:"normal_update_password",className:"forgot-pass-form",children:[Object(d.jsx)($.a.Item,{name:"email",rules:[{type:"email",required:!0,message:"Please input your Email!"}],children:Object(d.jsx)(Z.a,{prefix:Object(d.jsx)(ut.a,{className:"site-form-item-icon"}),placeholder:"Email",onChange:function(e){p(e.target.value)}})}),Object(d.jsx)($.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(d.jsx)(Z.a,{prefix:Object(d.jsx)(T.a,{className:"site-form-item-icon"}),placeholder:"Username",onChange:function(e){u(e.target.value)}})}),Object(d.jsx)($.a.Item,{name:"password",rules:[{required:!0,message:"Please input your New Password!"}],children:Object(d.jsx)(Z.a.Password,{iconRender:function(e){return e?Object(d.jsx)(Xe.a,{}):Object(d.jsx)(Ze.a,{})},prefix:Object(d.jsx)($e.a,{className:"site-form-item-icon"}),type:"password",placeholder:"New password",onChange:function(e){x(e.target.value)}})})]})})]})}),lt=function(){var e=Object(L.g)(),t=Object(x.b)(),n=Object(a.useState)(!1),r=Object(S.a)(n,2),c=r[0],s=r[1],o=function(){var n=Object(be.a)(de.a.mark((function n(a){return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(!0),n.next=3,rt(a).then((function(n){var a=n.data;a.error?_.b.error(a.error):(localStorage.setItem("accessToken",a.accessToken),t(w(a)),t(k()),e.push("/"),s(!1))}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)($.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:o,children:[Object(d.jsx)("h2",{children:"LOG IN"}),Object(d.jsx)($.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(d.jsx)(Z.a,{prefix:Object(d.jsx)(T.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(d.jsx)($.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],className:"margin-bottom-pass",children:Object(d.jsx)(Z.a.Password,{iconRender:function(e){return e?Object(d.jsx)(Xe.a,{}):Object(d.jsx)(Ze.a,{})},prefix:Object(d.jsx)($e.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(d.jsx)($.a.Item,{children:Object(d.jsx)(it,{})}),Object(d.jsxs)($.a.Item,{children:[Object(d.jsx)(ee.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:c,children:"Log in"}),"Or ",Object(d.jsx)(f.b,{to:"/register",children:"Register now!"})]})]})})},jt=function(){var e=Object(L.g)(),t=Object(a.useState)(""),n=Object(S.a)(t,2),r=n[0],c=n[1],s=function(){var t=Object(be.a)(de.a.mark((function t(n){return de.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at(n,r).then((function(t){var n=t.data;n.error?_.b.error(n.error):(_.b.success(n),e.push("/login"))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)($.a,{name:"normal_login",className:"login-form",onFinish:s,children:[Object(d.jsx)("h2",{children:"SIGN UP"}),Object(d.jsx)($.a.Item,{name:"email",rules:[{type:"email",required:!0,message:"Please input your Email!"}],children:Object(d.jsx)(Z.a,{prefix:Object(d.jsx)(ut.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(d.jsx)($.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(d.jsx)(Z.a,{prefix:Object(d.jsx)(T.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(d.jsx)($.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(d.jsx)(Z.a.Password,{iconRender:function(e){return e?Object(d.jsx)(Xe.a,{}):Object(d.jsx)(Ze.a,{})},prefix:Object(d.jsx)($e.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(d.jsx)($.a.Item,{name:"avatarFile",children:Object(d.jsx)(ne.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return c(t)}})}),Object(d.jsxs)($.a.Item,{children:[Object(d.jsx)(ee.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Sign up"}),"Or ",Object(d.jsx)(f.b,{to:"/login",children:"Login now!"})]})]})},pt=n(294),dt=(n(285),function(){var e=Object(L.h)().id,t=Object(x.b)(),n=Object(a.useState)([]),r=Object(S.a)(n,2),c=r[0],s=r[1],u=Object(x.c)((function(e){return Object(o.a)({},e.allPostsData)})).postByUser;return Object(a.useEffect)((function(){(function(){var t=Object(be.a)(de.a.mark((function t(){return de.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,st(e).then((function(e){s(e.data)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),t(function(e){return{type:M,payload:e}}(e)),t(K())}),[t,e]),Object(d.jsxs)("div",{className:"profile-page",children:[Object(d.jsxs)("div",{className:"user-header",children:[Object(d.jsx)(se.a,{size:"large",src:je}),Object(d.jsx)("h2",{children:c.username})]}),Object(d.jsx)(pt.a,{}),Object(d.jsx)("div",{className:"user-posts",children:Object(d.jsx)(_e,{allPosts:u})})]})}),bt=[{path:"/",isExact:!0,isPrivate:!0,module:Object(d.jsx)(Ee,{})},{path:"/login",isExact:!0,module:Object(d.jsx)(lt,{})},{path:"/register",isExact:!0,module:Object(d.jsx)(jt,{})},{path:"/posts/:id",isPrivate:!0,isExact:!0,module:Object(d.jsx)(We,{})},{path:"/profile/:id",isPrivate:!0,isExact:!0,module:Object(d.jsx)(dt,{})},{path:"*",isExact:!0,module:Object(d.jsx)(Ve,{})}],Ot=i.a.Content,ft=function(){var e=localStorage.getItem("accessToken"),t=Object(x.c)((function(e){return Object(o.a)({},e.isAuth)})),n=function(e,t,n,a){return function(){return t?n||a?e:Object(d.jsx)(L.a,{to:"/login"}):e}};return Object(d.jsx)(Ot,{className:"site-layout content",style:{padding:"0 50px",marginTop:64},children:Object(d.jsx)(L.d,{children:bt.map((function(a,r){var c=a.path,s=a.isExact,o=a.module,u=a.isPrivate;return Object(d.jsx)(L.b,{path:c,exact:s,children:n(o,u,e,t.isLogged)},r)}))})})},xt=(n(286),n(287),n(288),i.a.Footer);var mt=function(){return Object(d.jsxs)(i.a,{className:"layout",children:[Object(d.jsx)(A,{}),Object(d.jsx)(ft,{}),Object(d.jsx)(xt,{style:{textAlign:"center"},children:"Social \xa92021 Created by Nhan LNT"})]})},ht=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,316)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},vt=n(172),gt=n(76),yt={loading:!1,allPosts:[],postById:[],postByUser:[],deletePostResponse:"",error:null},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case D:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,allPosts:t.payload});case U:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case F:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case R:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,postById:t.payload});case Y:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case M:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case B:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,postByUser:t.payload});case G:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});default:return e}},kt={loading:!1,allComments:[],error:null},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case Fe:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,allComments:t.payload});case Re:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});default:return e}},It={loading:!1,isLogged:!1,response:"",userAuth:"",error:null},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(o.a)(Object(o.a)({},e),{},{isLogged:!0,response:t.payload});case v:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case g:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,isLogged:!0,userAuth:t.payload});case y:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case h:return Object(o.a)(Object(o.a)({},e),{},{isLogged:!1});default:return e}},_t={loading:!1,isLiked:[],error:null},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case xe:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,isLiked:t.payload});case me:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});default:return e}},Et=Object(gt.b)({allPostsData:wt,allCommentsData:Tt,isAuth:St,allLikesData:Pt}),Ct=n(12),At="https://safe-inlet-00575.herokuapp.com/https://social-app-lnt.herokuapp.com/posts",Lt=function(){var e=Object(be.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tt.a.get(At,{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(e){if(!e.data.error)return e;_.b.error("You need to Sig Up/Log In \ud83d\udc4f")})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.a.get("".concat(At,"/post-by-id/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.a.get("".concat(At,"/post-by-user/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(be.a)(de.a.mark((function e(t,n){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.a.post(At,{postText:t.postContent,postFile:n},{headers:{accessToken:localStorage.getItem("accessToken")}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.a.delete("".concat(At,"/").concat(t),{headers:{accessToken:localStorage.getItem("accessToken")}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(be.a)(de.a.mark((function e(t,n){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.a.put("".concat(At,"/edit-post"),{newPostText:t,id:n},{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(e){return _.b.success("Post edited \ud83d\udc4d"),e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Yt="https://social-app-lnt.herokuapp.com/comments",Mt=function(){var e=Object(be.a)(de.a.mark((function e(t,n){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tt.a.post(Yt,{commentContent:n,PostId:t},{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(e){if(!e.data.error)return e;_.b.error("You need to login")})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tt.a.get("".concat(Yt,"/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tt.a.delete("".concat(Yt,"/").concat(t),{headers:{accessToken:localStorage.getItem("accessToken")}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ht=function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.a.post("https://social-app-lnt.herokuapp.com/likes",{PostId:t},{headers:{accessToken:localStorage.getItem("accessToken")}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qt=de.a.mark(tn),zt=de.a.mark(nn),Kt=de.a.mark(an),Qt=de.a.mark(rn),Wt=de.a.mark(cn),Jt=de.a.mark(sn),Vt=de.a.mark(on),Xt=de.a.mark(un),Zt=de.a.mark(ln),$t=de.a.mark(jn),en=de.a.mark(pn);function tn(e){var t;return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ct.a)(Ut,e.payload.postContent,e.payload.postFile);case 3:return n.next=5,Object(Ct.a)(Lt);case 5:return t=n.sent,n.next=8,Object(Ct.c)(Q(t.data));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.warn(n.t0);case 13:case"end":return n.stop()}}),qt,null,[[0,10]])}function nn(){var e;return de.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ct.a)(Lt);case 3:return e=t.sent,t.next=6,Object(Ct.c)(Q(e.data));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(Ct.c)(W(t.t0));case 12:case"end":return t.stop()}}),zt,null,[[0,8]])}function an(e){var t;return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ct.a)(Nt,e.payload);case 3:return t=n.sent,n.next=6,Object(Ct.c)(J(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(Ct.c)(W(n.t0));case 12:case"end":return n.stop()}}),Kt,null,[[0,8]])}function rn(e){var t;return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ct.a)(Dt,e.payload);case 3:return t=n.sent,n.next=6,Object(Ct.c)(V(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(Ct.c)((a=n.t0,{type:G,payload:a}));case 12:case"end":return n.stop()}var a}),Qt,null,[[0,8]])}function cn(e){var t,n;return de.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Ct.a)(Ft,e.payload);case 3:return a.next=5,Object(Ct.a)(Lt);case 5:return t=a.sent,a.next=8,Object(Ct.c)(Q(t.data));case 8:return a.next=10,Object(Ct.a)(Nt,e.payload);case 10:return n=a.sent,a.next=13,Object(Ct.c)(J(n.data));case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(0),a.next=19,Object(Ct.c)(W(a.t0));case 19:case"end":return a.stop()}}),Wt,null,[[0,15]])}function sn(e){var t,n;return de.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Ct.a)(Rt,e.payload.newPostText,e.payload.postId);case 3:return a.next=5,Object(Ct.a)(Lt);case 5:return t=a.sent,a.next=8,Object(Ct.c)(Q(t.data));case 8:return a.next=10,Object(Ct.a)(Nt,e.payload.postId);case 10:return n=a.sent,a.next=13,Object(Ct.c)(J(n.data));case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(0),a.next=19,Object(Ct.c)(W(a.t0));case 19:case"end":return a.stop()}}),Jt,null,[[0,15]])}function on(e){var t;return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ct.a)(Mt,e.payload.id,e.payload.commentBody);case 3:return n.next=5,Object(Ct.a)(Bt,e.payload.id);case 5:return t=n.sent,n.next=8,Object(Ct.c)(Be(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(Ct.c)(Ge(n.t0));case 14:case"end":return n.stop()}}),Vt,null,[[0,10]])}function un(e){var t;return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ct.a)(Bt,e.payload);case 3:return t=n.sent,n.next=6,Object(Ct.c)(Be(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(Ct.c)(Ge(n.t0));case 12:case"end":return n.stop()}}),Xt,null,[[0,8]])}function ln(e){var t;return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ct.a)(Gt,e.payload.commentId);case 3:return n.next=5,Object(Ct.a)(Bt,e.payload.id);case 5:return t=n.sent,n.next=8,Object(Ct.c)(Be(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(Ct.c)(Ge(n.t0));case 14:case"end":return n.stop()}}),Zt,null,[[0,10]])}function jn(e){var t,n,a,r;return de.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(Ct.a)(Ht,e.payload.PostId);case 3:return t=c.sent,c.next=6,Object(Ct.c)((o=t.data,{type:xe,payload:o}));case 6:return c.next=8,Object(Ct.a)(Lt);case 8:return n=c.sent,c.next=11,Object(Ct.c)(Q(n.data));case 11:return c.next=13,Object(Ct.a)(Nt,e.payload.PostId);case 13:return a=c.sent,c.next=16,Object(Ct.c)(J(a.data));case 16:return c.next=18,Object(Ct.a)(Dt,e.payload.UserId);case 18:return r=c.sent,c.next=21,Object(Ct.c)(V(r.data));case 21:c.next=27;break;case 23:return c.prev=23,c.t0=c.catch(0),c.next=27,Object(Ct.c)((s=c.t0,{type:me,payload:s}));case 27:case"end":return c.stop()}var s,o}),$t,null,[[0,23]])}function pn(){var e;return de.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ct.a)(ct);case 3:return e=t.sent,t.next=6,Object(Ct.c)((a=e.data,{type:g,payload:a}));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(Ct.c)((n=t.t0,{type:y,payload:n}));case 12:case"end":return t.stop()}var n,a}),en,null,[[0,8]])}var dn=de.a.mark(xn),bn=de.a.mark(mn),On=de.a.mark(hn),fn=de.a.mark(vn);function xn(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ct.d)(H,tn);case 2:return e.next=4,Object(Ct.d)(N,nn);case 4:return e.next=6,Object(Ct.d)(F,an);case 6:return e.next=8,Object(Ct.d)(M,rn);case 8:return e.next=10,Object(Ct.d)(q,cn);case 10:return e.next=12,Object(Ct.d)(z,sn);case 12:case"end":return e.stop()}}),dn)}function mn(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ct.d)(Ye,on);case 2:return e.next=4,Object(Ct.d)(Ue,un);case 4:return e.next=6,Object(Ct.d)(Me,ln);case 6:case"end":return e.stop()}}),bn)}function hn(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ct.d)(fe,jn);case 2:case"end":return e.stop()}}),On)}function vn(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ct.d)(v,pn);case 2:case"end":return e.stop()}}),fn)}var gn=de.a.mark(yn);function yn(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ct.b)(xn);case 2:return e.next=4,Object(Ct.b)(mn);case 4:return e.next=6,Object(Ct.b)(hn);case 6:return e.next=8,Object(Ct.b)(vn);case 8:case"end":return e.stop()}}),gn)}var wn=yn,kn=Object(vt.a)(),Tn=Object(gt.d)(Et,Object(gt.a)(kn));kn.run(wn),s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(x.a,{store:Tn,children:Object(d.jsx)(f.a,{basename:"/",children:Object(d.jsx)(mt,{})})})}),document.getElementById("root")),ht()}},[[289,1,2]]]);
//# sourceMappingURL=main.5bb07b72.chunk.js.map